\documentclass[a4paper,10pt]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage{longtable}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{textcomp}
\usepackage{listings}
\usepackage{graphicx}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{algorithm}
\usepackage{algorithmic}
\input{spanishAlgorithmic.tex}
\usepackage{pstricks,pst-node,pst-tree}

\everymath{\displaystyle}
\def\O{\mathcal{O}}
\def\hora{3,6\cdot10^{9}}
\def\dia{8,64\cdot10^{10}}
\def\semana{6,048\cdot10^{11}}
\def\anio{3,15\cdot10^{13}}
\def\anios{3,15\cdot10^{16}}
\def\Problema#1#2{\textbf{Problema #1} \textsl{#2}\\}
\def\C#1{\texttt{#1}}
\def\figurename{Figura}
%opening
\title{Reto 4: Árboles}
\author{Francisco David Charte Luque\and
        Ignacio Cordón Castillo}
\date{}

\begin{document}
\maketitle
\section{Inorden no recursivo}
        \textit{Diseñar un procedimiento inorden no recursivo a imagen y semejanza
        del procedimiento preorden no recursivo que el profesor diseñó en la clase.}

 \ 
 
 \leftskip=1em
 \small
 \texttt{\input{ejercicio1}}
 \normalsize
 
 \leftskip=0em
 \section{Codificación de árbol binario}
         \textit{Dar un procedimiento para guardar un árbol binario en disco de forma que se
         recupere la estructura jerárquica de forma unívoca usando el mínimo número
         de centinelas que veais posible.}
         
  Se propone lo siguiente:
 
 Deseamos conocer para cada nodo del árbol si tiene dos hijos, sólo el
 izquierdo, solo el derecho o ninguno. Se empleará el preorden del árbol
 binario, haciendo que a cada nodo le preceda, caso de ser necesario, uno
 de los tres centinelas siguientes:
  
 \begin{enumerate}
 \item[i.] \texttt{<} Si le falta el hijo izquierdo
 \item[ii.] \texttt{>} Si le falta el hijo derecho
 \item[iii.] \texttt{-} Si no tiene hijos
 \end{enumerate}
 
 No se hará empleo de ningún centinela si el nodo tiene ambos hijos.
   
      \begin{algorithm}[H]
      \begin{algorithmic}[1]
     \REQUIRE \ \\
         \texttt{bin\_tree}, árbol binario leído codificado\\\
     
     \STATE{Crear pila \texttt{nodos}, 
            pila \texttt{hijos}}
     \STATE{\texttt{centinelas = \{-,<,>\}}}
     \\\
     \FORALL{\texttt{elemento} $en$ \texttt{bin\_tree}}
       \IF{\texttt{elemento} $\in$ \texttt{centinelas}}
         \STATE{Apilar \texttt{elemento} en \texttt{hijos}}
         \STATE{\texttt{anterior} $\gets$ \texttt{actual}}
       \ELSE
         \STATE{Apilar \texttt{elemento} en \texttt{nodos}}
         \IF{\texttt{anterior} $\notin$ \texttt{centinelas}}
           \STATE{Apilar * en \texttt{hijos}}
         \ENDIF
       \ENDIF
     \ENDFOR
     \\\
     \STATE{Crear arbol \texttt{nuevo}}
     \STATE{\texttt{raiz} $\gets$ raíz de \texttt{nuevo}}
     \STATE{Llamar al algoritmo \ref{rec2} con parámetros \texttt{raiz}, \texttt{nodos}, \texttt{hijos}}
     \\\
     \RETURN \texttt{nuevo}
      \end{algorithmic}
      \caption{Recuperado del árbol (I)}
      \label{rec1}
      \end{algorithm}
   
      \begin{algorithm}[H]
      \begin{algorithmic}[1]
     \REQUIRE \ \\
         \texttt{actual}, nodo sobre el que añadir descendientes\\
         \texttt{nodos}, pila de nodos\\
         \texttt{hijos}, pila de centinelas\\\  
     \IF{Tope \texttt{hijos} $\neq$ \texttt{-} \AND
         Tope \texttt{hijos} $\neq$ \texttt{<}}
         \STATE{Hijo izquierda de \texttt{actual}
                $\gets$ tope de \texttt{hijos}}
         \STATE{Sacar el tope de \texttt{hijos}}
         \STATE{Sacar el tope de \texttt{nodos}}
         \STATE{Llamar al algoritmo \ref{rec2} con parámetros
               \texttt{hijo izquierda de actual}, \texttt{nodos}, \texttt{hijos}}
     \ELSE
       \STATE{Hijo izquierda de \texttt{actual} $\gets \emptyset$}
     \ENDIF
     \\\
     \IF{Tope \texttt{hijos} $\neq$ \texttt{-} \AND
         Tope \texttt{hijos} $\neq$\texttt{>}}
       \STATE{Hijo derecha de \texttt{actual}
               $\gets$ tope de \texttt{nodos}}
        \STATE{Sacar el tope de \texttt{hijos}}
        \STATE{Sacar el tope de \texttt{nodos}}
       \STATE{Llamar al algoritmo \ref{rec2} con parámetros 
             \texttt{hijo derecha de actual}, \texttt{nodos}, \texttt{hijos}}
     \ELSE
         \STATE{Hijo derecha de \texttt{actual} $\gets \emptyset$}
     \ENDIF
      \end{algorithmic}
      \caption{Recuperado del árbol (II)}
      \label{rec2}
      \end{algorithm}
\end{document}
